<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Consulta todos los productos de tecnología, energía solar y domótica disponibles en Ingenio Red. Envíos a toda Colombia.">
    <title>Todos los Productos - Ingenio Red</title>
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
    <link rel="shortcut icon" href="assets/icons/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css">
    <!-- SEO y Open Graph -->
    <meta property="og:title" content="Todos los Productos - Ingenio Red">
    <meta property="og:description" content="Consulta todos los productos de tecnología, energía solar y domótica disponibles en Ingenio Red. Envíos a toda Colombia.">
    <meta property="og:image" content="https://res.cloudinary.com/dhqpxn3y4/image/upload/f_auto,q_auto/v1716584297/ejemplo.jpg">
    <meta property="og:url" content="https://ingenio-red.com/todos-los-productos.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Todos los Productos - Ingenio Red">
    <meta name="twitter:description" content="Consulta todos los productos de tecnología, energía solar y domótica disponibles en Ingenio Red. Envíos a toda Colombia.">
    <meta name="twitter:image" content="https://res.cloudinary.com/dhqpxn3y4/image/upload/f_auto,q_auto/v1716584297/ejemplo.jpg">
</head>
<body>
    <header class="site-header" role="banner">
        <h1 class="visually-hidden">Todos los productos - Ingenio Red</h1>
        <div class="logo-container">
            <a href="index.html" aria-label="Ir al inicio">
                <img src="assets/icons/logo.svg" alt="Logo Ingenio Red" style="max-height:50px;display:block;" />
            </a>
        </div>
        <!-- ...el resto del header se genera por JS... -->
    </header>
    <!-- Banner principal superior -->
    <section class="banner-superior" style="position:relative;">
        <img id="banner-superior-img"
            src="" 
            alt="Banner bienvenida juegos Ingenio Red" 
            style="width:100%;height:auto;object-fit:cover;display:block;" 
            loading="eager"
        >
        <div class="banner-promocional-superpuesto">
            Descubre lo último en Video Juegos, Domótica, Paneles Solares, sonido, ventiladores, cámaras de seguridad, banco de energía, luces led y más.
        </div>
    </section>
    <main class="main-container">
        <h2>Lista completa de productos</h2>
        <!-- Sección visual de categorías (cargada dinámicamente por JS) -->
        <section id="categorias-visual" class="categorias-visual" aria-label="Categorías principales">
          <!-- Las imágenes de categorías se insertan aquí por JS -->
        </section>
        <div id="all-products-grid" class="product-grid"></div>
        <div id="pagination-controls" class="pagination"></div>
    </main>
    <footer class="site-footer">
  <div class="footer-container">
    <div class="footer-column">
      <img src="assets/icons/logo.svg" alt="Logo Ingenio Red - Todos los productos" style="max-width: 140px; display: block; margin-bottom: 10px;">
      <p style="font-size:1.1rem;color:#f3c605;font-weight:600;margin:0 0 10px 0;">Tecnología, energía y domótica para Colombia</p>
      <div class="social-icons">
        <a href="https://www.facebook.com/ingenioredcolombia" target="_blank" rel="noopener noreferrer"><img src="assets/icons/facebook.svg" alt="Facebook Ingenio Red"></a>
        <a href="https://www.instagram.com/ingenio_red_colombia" target="_blank" rel="noopener noreferrer"><img src="assets/icons/instagram.svg" alt="Instagram Ingenio Red"></a>
        <a href="https://www.linkedin.com/company/ingenio-red" target="_blank" rel="noopener noreferrer"><img src="assets/icons/linkedin.svg" alt="LinkedIn Ingenio Red"></a>
        <a href="https://www.youtube.com/@ingeniored" target="_blank" rel="noopener noreferrer"><img src="assets/icons/youtube.svg" alt="YouTube Ingenio Red"></a>
      </div>
    </div>
    <div class="footer-column">
      <h3>Enlaces Rápidos</h3>
      <ul>
        <li><a href="index.html">Inicio</a></li>
        <li><a href="catalogo.html">Catálogo</a></li>
        <li><a href="garantia.html">Garantía</a></li>
        <li><a href="privacidad.html">Privacidad</a></li>
        <li><a href="contacto.html">Contacto</a></li>
      </ul>
    </div>
    <div class="footer-column">
      <h3>Contacto</h3>
      <p>¿Tienes alguna pregunta? <br> No dudes en contactarnos.</p>
      <div class="contact-info">
        <img src="assets/icons/whatsapp.svg" alt="WhatsApp Ingenio Red">
        <div><strong>WhatsApp</strong> <a href="https://wa.me/573185801243" target="_blank" rel="noopener noreferrer">+57 318 580 1243</a></div>
      </div>
      <div class="contact-info">
        <img src="assets/icons/mail.svg" alt="Email Ingenio Red">
        <div><strong>Email</strong> <a href="mailto:contacto@ingenio-red.com">contacto@ingenio-red.com</a></div>
      </div>
      <div class="contact-info">
        <img src="assets/icons/clock.svg" alt="Horario Ingenio Red">
        <div><strong>Horario</strong> <span>Lunes a Sábado: 9:00 AM - 6:00 PM</span></div>
      </div>
    </div>
  </div>
  <div class="footer-bottom">
    <p>© 2025 Ingenio Red. Todos los derechos reservados.</p>
  </div>
</footer>
    <div id="product-modal" class="modal"><div class="modal-content"><span class="close-button">&times;</span><div class="modal-body"></div></div></div>
    <div id="cart-modal" class="modal" role="dialog" aria-modal="true" aria-label="Carrito de compras">
        <div class="modal-content">
            <span class="close-button cart-close" role="button" aria-label="Cerrar ventana">&times;</span>
            <div class="cart-modal-header">
                <div class="cart-header-content">
                    <div class="cart-title-section-centered">
                        <h2>🛒 Mi Carrito de Compras</h2>
                        <p class="cart-subtitle">Revisa tus productos y completa tu pedido</p>
                    </div>
                </div>
            </div>
            <div id="cart-items-container"></div>
            <div class="customer-data-form">
                <div class="form-header">
                    <div class="form-title-section">
                        <h3>📋 Información de Contacto y Entrega</h3>
                        <p>Completa tus datos para recibir atención personalizada por WhatsApp</p>
                    </div>
                    <div class="form-trust-indicators">
                        <div class="trust-item">
                            <img src="assets/icons/whatsapp-business-svgrepo-com.svg" alt="WhatsApp Business" class="trust-icon">
                            <span>Atención Business</span>
                        </div>
                        <div class="trust-item">
                            <img src="assets/icons/phone.svg" alt="Soporte" class="trust-icon">
                            <span>Soporte Dedicado</span>
                        </div>
                        <div class="trust-item">
                            <img src="assets/icons/garantia.svg" alt="Compra Segura" class="trust-icon">
                            <span>Compra Segura</span>
                        </div>
                        <div class="trust-item trust-item-economico">
                            <img src="assets/icons/cash-dollar.svg" alt="Económico" class="trust-icon">
                            <span>Económico</span>
                        </div>
                    </div>
                </div>
                <div class="form-progress-indicator">
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="form-progress"></div>
                        </div>
                        <span class="progress-text" id="progress-text">0 de 4 campos completados</span>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-name">Nombre Completo *</label>
                        <input type="text" id="customer-name" placeholder="Tu nombre completo" required />
                    </div>
                    <div class="form-group">
                        <label for="customer-location">Dirección de entrega completa *</label>
                        <input type="text" id="customer-location" placeholder="Calle 123 #45-67, Barrio, Ciudad" required />
                        <small class="form-hint">Incluye calle, número, barrio y ciudad para envío preciso</small>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="customer-email">Correo Electrónico *</label>
                        <input type="email" id="customer-email" placeholder="tu@email.com" required />
                    </div>
                    <div class="form-group">
                        <label for="customer-phone">Teléfono de contacto *</label>
                        <input type="tel" id="customer-phone" placeholder="+57 300 123 4567" required />
                        <small class="form-hint">Para coordinar la entrega contigo</small>
                    </div>
                </div>
                <div class="form-group full-width">
                    <label for="customer-comments">Comentarios adicionales (Opcional)</label>
                    <textarea id="customer-comments" placeholder="¿Necesitas algo especial? Ejemplo: entrega urgente, instalación, etc." rows="3"></textarea>
                </div>
            </div>
            <button id="send-whatsapp-btn" class="whatsapp-checkout-btn">
                <div class="btn-content">
                    <img src="assets/icons/whatsapp-business-svgrepo-com.svg" alt="WhatsApp Business" class="whatsapp-icon">
                    <div class="btn-text">
                        <span class="btn-main-text">Enviar Pedido</span>
                    </div>
                </div>
            </button>
        </div>
    </div>
    <div id="toast-container" aria-live="polite"></div>
    <!-- Para todas las imágenes de productos, usa Cloudinary con f_auto,q_auto para máxima optimización. Ejemplo: -->
    <!-- <img src="https://res.cloudinary.com/dhqpxn3y4/image/upload/f_auto,q_auto/v1716584297/ejemplo.jpg" alt="Producto ejemplo Ingenio Red - Imagen optimizada" loading="lazy"> -->
    <script src="scripts.js"></script>
    <script src="image-optimizer.js"></script>

    <script>
    // Cargar imagen principal del banner superior desde recursos_visuales.json
    fetch('recursos_visuales.json')
      .then(response => response.json())
      .then(data => {
        let bannerUrl = '';
        if (Array.isArray(data)) {
          const obj = data.find(item => item.banner_carrusel_superior === 'banner-bienvenida-juegos');
          if (obj && obj.url_banner_carrusel_superior) {
            bannerUrl = obj.url_banner_carrusel_superior;
          }
        }
        if (bannerUrl) {
          document.getElementById('banner-superior-img').src = bannerUrl;
        }
      });
    </script>
    <script>
        // Sobrescribir el renderizado de tarjetas para que sean iguales a la home
        function createProductCardHTML(product) {
            const tieneDescuento = product.precio_original && product.precio_final && product.precio_original !== product.precio_final;
            return `
    <div class="product-card" tabindex="0" aria-label="Ver detalles de ${product.nombre_producto}">
        ${product.stock <= 0 ? '<div class="out-of-stock-overlay">Agotado</div>' : ''}
        <div class="img-container" onclick="mostrarDetallesProducto(${product.id_del_producto})" style="cursor:pointer;">
            <img src="${product.imagen_principal}" alt="${product.texto_alt_imagen || product.nombre_producto}" loading="lazy" />
        </div>
        <div class="product-details">
            <h3 class="product-title">${product.nombre_producto}</h3>
            <div class="product-price-row">
                <span class="product-price-final">${product.precio_final ? '$'+product.precio_final : ''}</span>
                ${tieneDescuento ? `<span class=\"product-price-original\">$${product.precio_original}</span>` : ''}
            </div>
            <div class="product-desc-container">
                <p class="product-short-desc">
                    ${product.descripcion_corta}
                    ${product.descripcion_larga ? `<span class="ver-mas-link" onclick="event.stopPropagation();toggleDescription(${product.id_del_producto})"> Ver más</span>` : ''}
                </p>
                ${product.descripcion_larga ? `<p class="product-long-desc" style="display:none;">${product.descripcion_larga}</p>` : ''}
            </div>
            <div class="product-meta-row">
                <span class="product-sku-info">SKU: ${product.sku || 'N/A'}</span>
                <span class="product-stock-info">${product.stock > 0 ? `Stock: ${product.stock}` : 'Sin stock'}</span>
            </div>
            <div class="product-actions">
                <button class="add-to-cart-btn" onclick="event.stopPropagation();agregarAlCarrito(${product.id_del_producto})">Agregar al carrito</button>
            </div>
        </div>
    </div>`;
        }
        
        // Función para alternar descripción larga/corta
        function toggleDescription(productId) {
            const productCard = document.querySelector(`[aria-label*="detalles"]:has([onclick*="${productId}"])`);
            if (!productCard) return;
            
            const shortDesc = productCard.querySelector('.product-short-desc');
            const longDesc = productCard.querySelector('.product-long-desc');
            const verMasLink = productCard.querySelector('.ver-mas-link');
            
            if (!shortDesc || !longDesc || !verMasLink) return;
            
            if (longDesc.style.display === 'none' || !longDesc.style.display) {
                // Mostrar descripción larga
                shortDesc.style.display = 'none';
                longDesc.style.display = 'block';
                verMasLink.textContent = ' Ver menos';
                verMasLink.classList.add('expanded');
            } else {
                // Mostrar descripción corta
                shortDesc.style.display = 'block';
                longDesc.style.display = 'none';
                verMasLink.textContent = ' Ver más';
                verMasLink.classList.remove('expanded');
            }
        }
        // Si usas paginación, asegúrate de que el grid use esta función para cada producto
    </script>
<style>
.product-card .img-container {
  transition: box-shadow 0.3s;
}
.product-card .img-container img {
  transition: transform 0.45s cubic-bezier(.4,1.6,.6,1), box-shadow 0.3s;
  will-change: transform, box-shadow;
}
.product-card .img-container:hover img,
.product-card .img-container:focus-visible img {
  transform: scale(1.18) translateY(-8px);
  z-index: 2;
  box-shadow: 0 12px 40px #00b0fa33;
}

/* Contenedor de descripción mejorado */
.product-desc-container {
  margin: 0.5rem 0;
  min-height: 60px;
  display: flex;
  flex-direction: column;
}

.product-short-desc,
.product-long-desc {
  margin: 0;
  font-size: 0.9rem;
  line-height: 1.4;
  color: #555;
  display: block;
}

.product-long-desc {
  font-size: 0.88rem;
  color: #666;
  max-height: 120px;
  overflow-y: auto;
  padding: 0.5rem 0;
  border-top: 1px solid #f0f0f0;
  margin-top: 0.5rem;
  line-height: 1.5;
}

/* Estilo para el enlace "Ver más" como texto natural */
.ver-mas-link {
  color: #00b0fa;
  cursor: pointer;
  font-weight: 500;
  text-decoration: none;
  font-size: 0.9rem;
  transition: color 0.2s ease;
  margin-left: 2px;
}

.ver-mas-link:hover {
  color: #0088cc;
  text-decoration: underline;
}

.ver-mas-link.expanded {
  color: #666;
  font-weight: normal;
}

.ver-mas-link.expanded:hover {
  color: #444;
  text-decoration: underline;
}

/* Eliminar estilos del botón anterior */
.toggle-desc-btn {
  display: none;
}

/* Fila de metadatos compacta y profesional */
.product-meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.4rem 0;
  margin: 0.3rem 0;
  border-top: 1px solid #f0f0f0;
  font-size: 0.8rem;
  color: #666;
  gap: 1rem;
}

.product-sku-info {
  font-weight: 500;
  color: #555;
  flex: 1;
}

.product-stock-info {
  font-weight: 600;
  color: #28a745;
  text-align: right;
}

/* Cuando no hay stock */
.product-meta-row .product-stock-info:contains("Sin stock") {
  color: #dc3545;
}

/* Responsive mejorado */
@media (max-width: 600px) {
  .product-desc-container {
    min-height: 50px;
  }
  
  .product-meta-row {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.2rem;
    font-size: 0.75rem;
  }
  
  .product-stock-info {
    text-align: left;
  }
  
  .product-long-desc {
    max-height: 60px;
    font-size: 0.8rem;
  }
}

/* Estilos para mejor separación visual */
.product-details {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
}

.product-price-row {
  margin: 0.3rem 0;
}

.product-actions {
  margin-top: auto;
  padding-top: 0.5rem;
}

#product-modal .modal-image-container img {
  transition: transform 0.5s cubic-bezier(.4,1.6,.6,1), box-shadow 0.3s;
  cursor: zoom-in;
  will-change: transform, box-shadow;
}
#product-modal .modal-image-container img:hover,
#product-modal .modal-image-container img:focus-visible {
  transform: scale(1.22) translateY(-10px);
  box-shadow: 0 16px 48px #00b0fa44;
  z-index: 2;
}

.banner-superior {
  width: 100%;
  margin: 0;
  padding: 0;
  display: block;
  position: relative;
  z-index: 1;
}
/* Banner promocional superpuesto */
.banner-promocional-superpuesto {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  background: #0a1833;
  color: #00b0fa;
  font-size: 1.35rem;
  font-weight: bold;
  padding: 1.1rem 0;
  box-shadow: 0 8px 32px #0006;
  text-align: center;
  z-index: 10;
  letter-spacing: 0.02em;
  border-top: 3px solid #ffe600;
  border-radius: 0;
  transition: color 0.3s;
}
.banner-promocional-superpuesto:hover {
  color: #ffe600;
}
</style>
</body>
</html>